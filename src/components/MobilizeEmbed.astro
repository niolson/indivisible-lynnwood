---
interface Props {
  orgSlug?: string;
}

// TODO: Replace with actual Mobilize organization slug
const { orgSlug = 'indivisiblelynnwood' } = Astro.props;

const mobilizeUrl = `https://www.mobilize.us/${orgSlug}/`;
---

<div class="mobilize-embed">
  <iframe
    src={`https://events.mobilize.us/${orgSlug}/?is_virtual=false`}
    width="100%"
    height="600"
    frameborder="0"
    title="Upcoming events from Indivisible Lynnwood on Mobilize"
    loading="lazy"
  ></iframe>
  <p class="mobilize-fallback">
    Can't see the events? <a href={mobilizeUrl} target="_blank" rel="noopener noreferrer">
      View our events on Mobilize &rarr;
    </a>
  </p>

  {/* Fallback: Google Calendar embed (uncomment and add calendar ID if needed)
  <iframe
    src="https://calendar.google.com/calendar/embed?src=YOUR_CALENDAR_ID&ctz=America/Los_Angeles"
    width="100%"
    height="600"
    frameborder="0"
    title="Indivisible Lynnwood calendar"
    loading="lazy"
  ></iframe>
  */}
</div>

<style>
  .mobilize-embed {
    border-radius: var(--radius-lg);
    overflow: hidden;
    border: 1px solid var(--color-border);
    background-color: var(--color-white);
  }

  .mobilize-embed iframe {
    display: block;
    border: none;
  }

  .mobilize-fallback {
    padding: var(--space-md) var(--space-lg);
    text-align: center;
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    background-color: var(--color-bg-alt);
  }
</style>
